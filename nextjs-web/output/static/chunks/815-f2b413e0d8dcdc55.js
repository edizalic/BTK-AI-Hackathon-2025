"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{229:(e,r,t)=>{t.d(r,{CU:()=>i,UA:()=>c,fF:()=>o,q_:()=>d});var a=t(5155),l=t(2115),s=t(5695),n=t(1541);function d(e){let{children:r,requiredRoles:t=[],fallbackPath:d="/login",requireAuth:o=!0}=e,{user:c,isAuthenticated:i,isLoading:m}=(0,n.A)(),u=(0,s.useRouter)(),x=(0,s.usePathname)();return((0,l.useEffect)(()=>{if(!m){if(o&&!i){let e="/login"!==x?"?returnUrl=".concat(encodeURIComponent(x)):"";u.push("".concat(d).concat(e));return}if(i&&c&&t.length>0&&!t.includes(c.role)){switch(c.role){case"ADMIN":u.push("/admin-portal");break;case"SUPERVISOR_TEACHER":case"TEACHER":u.push("/teacher-portal");break;case"STUDENT":u.push("/student-portal");break;default:u.push("/")}return}}},[i,m,c,t,u,x,d,o]),m)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o&&!i||i&&c&&t.length>0&&!t.includes(c.role)?null:(0,a.jsx)(a.Fragment,{children:r})}function o(e){let{children:r}=e;return(0,a.jsx)(d,{requiredRoles:["STUDENT"],children:r})}function c(e){let{children:r}=e;return(0,a.jsx)(d,{requiredRoles:["TEACHER","SUPERVISOR_TEACHER"],children:r})}function i(e){let{children:r}=e,{isAuthenticated:t,isLoading:d,user:o}=(0,n.A)(),c=(0,s.useRouter)();return((0,l.useEffect)(()=>{if(!d&&t&&o&&o.role){let e=setTimeout(()=>{let e="STUDENT"===o.role?"/student-portal":"TEACHER"===o.role||"SUPERVISOR_TEACHER"===o.role?"/teacher-portal":"ADMIN"===o.role?"/admin-portal":"/";window.location.href=e},500);return()=>clearTimeout(e)}},[t,d,o,c]),d)?(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("p",{className:"ml-2 text-gray-600",children:"Loading the dashboard..."})]}):t&&o&&o.role?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading the dashboard..."})]})}):(0,a.jsx)(a.Fragment,{children:r})}},859:(e,r,t)=>{t.d(r,{ZY:()=>h,r5:()=>f});var a=t(5155),l=t(2115),s=t(6874),n=t.n(s),d=t(6695),o=t(285),c=t(9434);let i={h1:e=>{let{children:r,className:t,...l}=e;return(0,a.jsx)("h1",{className:(0,c.cn)("text-3xl font-bold tracking-tight",t),...l,children:r})},h2:e=>{let{children:r,className:t,...l}=e;return(0,a.jsx)("h2",{className:(0,c.cn)("text-2xl font-semibold",t),...l,children:r})},h3:e=>{let{children:r,className:t,...l}=e;return(0,a.jsx)("h3",{className:(0,c.cn)("text-xl font-medium",t),...l,children:r})},p:e=>{let{children:r,className:t,...l}=e;return(0,a.jsx)("p",{className:(0,c.cn)("text-muted-foreground",t),...l,children:r})},div:e=>{let{children:r,className:t,...l}=e;return(0,a.jsx)("div",{className:t,...l,children:r})},text:e=>{let{content:r,children:t,className:l,...s}=e;return(0,a.jsx)("span",{className:l,...s,children:r||t})},container:e=>{let{children:r,className:t,...l}=e;return(0,a.jsx)("div",{className:(0,c.cn)("container mx-auto px-4",t),...l,children:r})},grid:e=>{let{children:r,cols:t=1,gap:l="6",className:s,...n}=e;return(0,a.jsx)("div",{className:(0,c.cn)("grid ".concat({1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"}[t]||"grid-cols-1"," gap-").concat(l),s),...n,children:r})},card:d.Zp,"card-header":d.aR,"card-title":d.ZB,"card-description":d.BT,"card-content":d.Wu,"info-card":e=>{let{title:r,value:t,description:l,icon:s,variant:n="default"}=e;return(0,a.jsx)(d.Zp,{className:(0,c.cn)("hover:shadow-md transition-all duration-200",{default:"bg-white dark:bg-slate-800 border-border",primary:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800",secondary:"bg-gradient-to-br from-slate-50 to-gray-50 dark:from-slate-800 dark:to-slate-700 border-slate-200 dark:border-slate-700",success:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-green-200 dark:border-green-800",warning:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-800",danger:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 border-red-200 dark:border-red-800"}[n]),children:(0,a.jsx)(d.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[s&&(0,a.jsx)("span",{className:"text-3xl",children:s}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:r}),(0,a.jsx)("p",{className:"text-2xl font-bold text-foreground mt-1",children:t}),l&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:l})]})]})})})},"activity-item":e=>{let{title:r,description:t,timestamp:l,status:s="info"}=e;return(0,a.jsxs)("div",{className:"flex items-start space-x-4 p-4 rounded-lg bg-white dark:bg-slate-800 hover:shadow-md transition-all duration-200 border border-border",children:[(0,a.jsx)("div",{className:"flex-shrink-0 pt-1",children:(0,a.jsx)("div",{className:(0,c.cn)("w-3 h-3 rounded-full",{success:"bg-green-500 dark:bg-green-600",info:"bg-blue-500 dark:bg-blue-600",warning:"bg-yellow-500 dark:bg-yellow-600",error:"bg-red-500 dark:bg-red-600"}[s])})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-foreground",children:r}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:t}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:l})]})]})},"action-card":e=>{let{title:r,description:t,icon:l,link:s,buttonText:c="Learn More",variant:i="default"}=e,m=(0,a.jsxs)(d.Zp,{className:"h-full hover:shadow-lg hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 border-border",children:[(0,a.jsxs)(d.aR,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[l&&(0,a.jsx)("span",{className:"text-3xl",children:l}),(0,a.jsx)(d.ZB,{className:"text-xl font-bold text-foreground",children:r})]}),(0,a.jsx)(d.BT,{className:"text-muted-foreground leading-relaxed",children:t})]}),(0,a.jsx)(d.Wu,{className:"pt-0",children:(0,a.jsx)(o.$,{variant:i,className:"w-full font-semibold",children:c})})]});return s?(0,a.jsx)(n(),{href:s,className:"block",children:m}):m},"help-section":e=>{let{title:r,description:t,contacts:l,variant:s="default"}=e;return(0,a.jsxs)(d.Zp,{className:(0,c.cn)("hover:shadow-md transition-all duration-200",{default:"bg-gradient-to-br from-slate-50 to-gray-100 dark:from-slate-800 dark:to-slate-900 border-border",warning:"bg-gradient-to-br from-yellow-50 to-orange-100 dark:from-yellow-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-800",info:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800"}[s]),children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"text-xl font-bold text-foreground",children:r}),(0,a.jsx)(d.BT,{className:"text-muted-foreground",children:t})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.map((e,r)=>(0,a.jsxs)("div",{className:"text-center p-4 rounded-lg bg-white/50 dark:bg-slate-800/50 border border-border/50",children:[(0,a.jsx)("p",{className:"font-semibold text-sm text-foreground mb-2",children:e.label.replace(/ðŸ“§|ðŸ“ž|ðŸ•|ðŸ“©|â˜Žï¸|â°|ðŸ”—|ðŸ’¬|ðŸ“±/g,"").trim()}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:e.value})]},r))})})]})},button:o.$},m=(e,r)=>r&&"string"==typeof e?e.replace(/\{\{(\w+)\.(\w+)\}\}/g,(e,t,a)=>"user"===t&&r[a]?r[a]:e):e,u=(e,r)=>{if(!e)return{};let t={};for(let[a,s]of Object.entries(e))"string"==typeof s?t[a]=m(s,r):Array.isArray(s)?t[a]=s.map(e=>"object"!=typeof e||null===e||l.isValidElement(e)?"string"==typeof e?m(e,r):e:u(e,r)):"object"!=typeof s||null===s||l.isValidElement(s)?t[a]=s:t[a]=u(s,r);return t},x=e=>{let{config:r,userData:t}=e,{type:l,props:s={},children:n=[],className:d,style:o}=r,c=i[l];if(!c)return console.warn('Component type "'.concat(l,'" not found in registry')),(0,a.jsxs)("div",{children:["Unknown component: ",l]});let m=u(s,t);d&&(m.className=d),o&&(m.style=o);let g=n.map((e,r)=>(0,a.jsx)(x,{config:e,userData:t},"".concat(l,"-child-").concat(r)));return g.length>0&&(m.children=g),(0,a.jsx)(c,{...m})},g=e=>{let{section:r,userData:t}=e,{type:l,components:s,layout:n}=r;if("grid"===l&&n){let{cols:e=1,gap:l="6",className:d=""}=n;return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-".concat(e," gap-").concat(l," ").concat(d),children:s.map((e,l)=>(0,a.jsx)(x,{config:e,userData:t},"".concat(r.id,"-").concat(l)))})}return(0,a.jsx)("div",{className:(null==n?void 0:n.className)||"",children:s.map((e,l)=>(0,a.jsx)(x,{config:e,userData:t},"".concat(r.id,"-").concat(l)))})},h=e=>{let{pageConfig:r,userData:t}=e,{layout:l,sections:s}=r;return(0,a.jsx)("div",{className:l.className||"",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:s.map(e=>(0,a.jsx)(g,{section:e,userData:t},e.id))})})},f=e=>{let[r,a]=l.useState(null),[s,n]=l.useState(!0),[d,o]=l.useState(null);return l.useEffect(()=>{(async()=>{try{n(!0),o(null);let r=(await t.e(904).then(t.t.bind(t,2904,19))).pages[e];if(!r)throw Error("Page configuration not found for: ".concat(e));a(r)}catch(e){o(e instanceof Error?e.message:"Failed to load page configuration")}finally{n(!1)}})()},[e]),{pageConfig:r,loading:s,error:d}}}}]);