"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{3052:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},6126:(e,t,s)=>{s.d(t,{E:()=>i});var r=s(5155);s(2115);var a=s(2085),n=s(9434);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:s}),t),...a})}},6474:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(9946).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9076:(e,t,s)=>{s.d(t,{m:()=>g});var r=s(5155),a=s(2115),n=s(6695),l=s(285),i=s(6126),d=s(9946);let c=(0,d.A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var o=s(6474),m=s(3052);let u=(0,d.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var x=s(9434);let g=e=>{let{courseId:t,courseName:s,existingStudyPlan:d}=e,[g,h]=(0,a.useState)(d||null),[p,f]=(0,a.useState)(!1),[b,j]=(0,a.useState)(null),[y,w]=(0,a.useState)(new Set),[N,k]=(0,a.useState)(!1),v=async()=>{try{f(!0),j(null);let e=await fetch("/api/gemini/".concat(t,"/get-weekly-study-plan"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}});if(!e.ok)throw Error("Failed to generate study plan: ".concat(e.status));let s=await e.json();if(s.success&&s.studyPlan)h({weeks:s.studyPlan.weeks||[],generatedAt:new Date().toISOString(),aiGenerated:!0}),k(!0);else throw Error(s.message||"Failed to generate study plan")}catch(e){console.error("Error generating study plan:",e),j(e instanceof Error?e.message:"Failed to generate study plan")}finally{f(!1)}};return(0,r.jsxs)(n.Zp,{className:"w-full",children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,r.jsxs)("button",{className:"flex items-center space-x-2 text-left hover:text-foreground transition-colors",onClick:()=>k(!N),children:[(0,r.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,r.jsx)(c,{className:"h-5 w-5 text-blue-500"}),(0,r.jsx)("span",{children:"AI Weekly Study Plan"})]}),N?(0,r.jsx)(o.A,{className:"h-5 w-5 text-muted-foreground"}):(0,r.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"})]}),g&&g.weeks&&g.weeks.length>0&&(0,r.jsxs)(i.E,{variant:"secondary",className:"text-xs",children:[g.weeks.length," weeks"]}),(null==g?void 0:g.aiGenerated)&&(0,r.jsx)(i.E,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:"AI Generated"})]}),(0,r.jsx)(l.$,{variant:"default",size:"sm",onClick:v,disabled:p,className:"flex items-center space-x-2",children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{children:"Generating..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Ask to AI"})]})})]}),N&&(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:p?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(u,{className:"h-8 w-8 animate-spin mx-auto mb-3 text-blue-500"}),(0,r.jsxs)("p",{className:"text-muted-foreground text-sm",children:["AI is generating your personalized weekly study plan for ",s,"..."]})]}):b?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("span",{className:"text-2xl",children:"⚠️"})}),(0,r.jsx)("p",{className:"text-red-600 text-sm mb-2",children:"Failed to generate study plan"}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:b}),(0,r.jsx)(l.$,{variant:"outline",size:"sm",onClick:v,className:"mt-3",children:"Try Again"})]}):g&&g.weeks&&g.weeks.length>0?(0,r.jsxs)("div",{className:"space-y-3",children:[g.weeks.map(e=>(0,r.jsxs)("div",{className:"border rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[(0,r.jsxs)("button",{className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors rounded-lg",onClick:()=>(e=>{let t=new Set(y);t.has(e)?t.delete(e):t.add(e),w(t)})(e.week),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:(0,x.cn)("w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold text-sm",(e=>{let t=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-indigo-500","bg-teal-500","bg-red-500","bg-yellow-500","bg-cyan-500","bg-lime-500","bg-amber-500","bg-emerald-500","bg-violet-500","bg-rose-500"],s=(parseInt(e)-1)%t.length;return t[s]})(e.week)),children:e.week}),(0,r.jsxs)("span",{className:"font-medium",children:["Week ",e.week]}),e.topics&&e.topics.length>0&&(0,r.jsxs)(i.E,{variant:"outline",className:"text-xs",children:[e.topics.length," topics"]})]}),y.has(e.week)?(0,r.jsx)(o.A,{className:"h-5 w-5 text-muted-foreground"}):(0,r.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"})]}),y.has(e.week)&&(0,r.jsx)("div",{className:"px-4 pb-4 text-sm text-muted-foreground border-t border-gray-200 dark:border-gray-700 pt-3",children:(0,r.jsxs)("div",{className:"prose prose-sm max-w-none",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"Description"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e.description})]}),e.topics&&e.topics.length>0&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"Topics"}),(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.topics.map((e,t)=>(0,r.jsx)("li",{className:"text-muted-foreground",children:e},t))})]}),e.assignments&&e.assignments.length>0&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"Assignments"}),(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.assignments.map((e,t)=>(0,r.jsx)("li",{className:"text-muted-foreground",children:e},t))})]}),e.readings&&e.readings.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"Readings"}),(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1",children:e.readings.map((e,t)=>(0,r.jsx)("li",{className:"text-muted-foreground",children:e},t))})]})]})})]},e.week)),g.generatedAt&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:["Generated on ",new Date(g.generatedAt).toLocaleDateString()," at ",new Date(g.generatedAt).toLocaleTimeString()]})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(c,{className:"h-8 w-8 text-blue-500"})}),(0,r.jsxs)("p",{className:"text-muted-foreground text-sm mb-3",children:["Get a personalized weekly study plan for ",s," generated by AI"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:'Click "Ask to AI" to generate a comprehensive study plan tailored to your course'})]})})})]})}},9946:(e,t,s)=>{s.d(t,{A:()=>d});var r=s(2115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:m,...u}=e;return(0,r.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:s,strokeWidth:d?24*Number(i)/Number(a):i,className:n("lucide",c),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),d=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{className:d,...c}=s;return(0,r.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...c})});return s.displayName=a(e),s}}}]);