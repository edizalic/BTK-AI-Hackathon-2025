(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{229:(e,t,s)=>{"use strict";s.d(t,{CU:()=>c,UA:()=>o,fF:()=>d,q_:()=>i});var a=s(5155),r=s(2115),l=s(5695),n=s(1541);function i(e){let{children:t,requiredRoles:s=[],fallbackPath:i="/login",requireAuth:d=!0}=e,{user:o,isAuthenticated:c,isLoading:m}=(0,n.A)(),u=(0,l.useRouter)(),x=(0,l.usePathname)();return((0,r.useEffect)(()=>{if(!m){if(d&&!c){let e="/login"!==x?"?returnUrl=".concat(encodeURIComponent(x)):"";u.push("".concat(i).concat(e));return}if(c&&o&&s.length>0&&!s.includes(o.role)){switch(o.role){case"ADMIN":u.push("/admin-portal");break;case"SUPERVISOR_TEACHER":case"TEACHER":u.push("/teacher-portal");break;case"STUDENT":u.push("/student-portal");break;default:u.push("/")}return}}},[c,m,o,s,u,x,i,d]),m)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d&&!c||c&&o&&s.length>0&&!s.includes(o.role)?null:(0,a.jsx)(a.Fragment,{children:t})}function d(e){let{children:t}=e;return(0,a.jsx)(i,{requiredRoles:["STUDENT"],children:t})}function o(e){let{children:t}=e;return(0,a.jsx)(i,{requiredRoles:["TEACHER","SUPERVISOR_TEACHER"],children:t})}function c(e){let{children:t}=e,{isAuthenticated:s,isLoading:i,user:d}=(0,n.A)(),o=(0,l.useRouter)();return((0,r.useEffect)(()=>{if(!i&&s&&d&&d.role){let e=setTimeout(()=>{let e="STUDENT"===d.role?"/student-portal":"TEACHER"===d.role||"SUPERVISOR_TEACHER"===d.role?"/teacher-portal":"ADMIN"===d.role?"/admin-portal":"/";window.location.href=e},500);return()=>clearTimeout(e)}},[s,i,d,o]),i)?(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("p",{className:"ml-2 text-gray-600",children:"Loading the dashboard..."})]}):s&&d&&d.role?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading the dashboard..."})]})}):(0,a.jsx)(a.Fragment,{children:t})}},968:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});var a=s(2115),r=s(3655),l=s(5155),n=a.forwardRef((e,t)=>(0,l.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=n},2523:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(5155),r=s(2115),l=s(9434);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});n.displayName="Input"},3655:(e,t,s)=>{"use strict";s.d(t,{sG:()=>n});var a=s(2115);s(7650);var r=s(9708),l=s(5155),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,r.TL)(`Primitive.${t}`),n=a.forwardRef((e,a)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(r?s:t,{...n,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{})},4771:(e,t,s)=>{Promise.resolve().then(s.bind(s,9349))},5057:(e,t,s)=>{"use strict";s.d(t,{J:()=>o});var a=s(5155),r=s(2115),l=s(968),n=s(2085),i=s(9434);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.b,{ref:t,className:(0,i.cn)(d(),s),...r})});o.displayName=l.b.displayName},9349:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5155),r=s(2115),l=s(285),n=s(2523),i=s(5057),d=s(6695),o=s(8950),c=s(4774),m=s(229),u=s(1541),x=s(4247),p=s(6977);function h(){var e;let{user:t}=(0,u.A)(),s=(null==t||null==(e=t.profile)?void 0:e.department)||"Computer Science",[h,g]=(0,r.useState)([]),[f,j]=(0,r.useState)([]),[y,N]=(0,r.useState)(!0),[v,b]=(0,r.useState)(!0),[w,S]=(0,r.useState)({firstName:"",lastName:"",email:"",password:"",studentId:"",grade:"",major:s,minor:"",enrollmentDate:"",advisoryTeacherId:""}),[k,D]=(0,r.useState)({firstName:"",lastName:"",email:"",password:"",department:s,position:"",employeeId:"",hireDate:"",specialization:[],officeLocation:"",officeHours:"",isSupervisor:!1}),[E,C]=(0,r.useState)(!1),[T,I]=(0,r.useState)(!1),[F,R]=(0,r.useState)("student"),[A,O]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(A){let e=setTimeout(()=>{O(null)},1e4);return()=>clearTimeout(e)}},[A]),(0,r.useEffect)(()=>{s&&(D(e=>({...e,department:s})),S(e=>({...e,major:s})))},[s]),(0,r.useEffect)(()=>{s&&(P(),U())},[s]);let P=async()=>{try{N(!0),console.log("=== FETCHING STUDENTS ==="),console.log("Supervisor department:",s);let e=await x.nC.users.getUsers({role:p.gG.STUDENT});console.log("Students API response:",e),console.log("Response structure keys:",Object.keys(e));let t=e.users||[];console.log("Students array:",t),console.log("Number of students found:",t.length),t.forEach((e,t)=>{var s;console.log("Student ".concat(t,":"),{id:e.id,email:e.email,profile:e.profile,major:null==(s=e.profile)?void 0:s.major})});let a=t.filter(e=>{var t;let a=null==(t=e.profile)?void 0:t.major,r=a===s;return console.log("Student ".concat(e.email,': major="').concat(a,'", supervisor dept="').concat(s,'", matches=').concat(r)),r});console.log("Students after filtering by major:",a.length),console.log("Filtered students:",a),g(a)}catch(e){console.error("Failed to fetch students:",e),O({type:"error",text:"Failed to load students list"})}finally{N(!1)}},U=async()=>{try{b(!0),console.log("=== FETCHING TEACHERS ==="),console.log("Supervisor department:",s);let e=await x.nC.users.getUsers({role:p.gG.TEACHER});console.log("Teachers API response:",e),console.log("Response structure keys:",Object.keys(e));let t=e.users||[];console.log("Teachers array:",t),console.log("Number of teachers found:",t.length),t.forEach((e,t)=>{var s;console.log("Teacher ".concat(t,":"),{id:e.id,email:e.email,profile:e.profile,department:null==(s=e.profile)?void 0:s.department})});let a=t.filter(e=>{var t;let a=null==(t=e.profile)?void 0:t.department,r=a===s;return console.log("Teacher ".concat(e.email,': dept="').concat(a,'", supervisor dept="').concat(s,'", matches=').concat(r)),r});console.log("Teachers after filtering by department:",a.length),console.log("Filtered teachers:",a),j(a)}catch(e){console.error("Failed to fetch teachers:",e),O({type:"error",text:"Failed to load teachers list"})}finally{b(!1)}},M=e=>{let{name:t,value:s}=e.target;S(e=>({...e,[t]:s}))},J=e=>{let{name:t,value:s,type:a}=e.target,r="checked"in e.target&&e.target.checked;if("specialization"===t){let e=s.split(",").map(e=>e.trim()).filter(e=>e.length>0);D(s=>({...s,[t]:e}))}else"hireDate"===t&&s?D(e=>({...e,[t]:new Date(s).toISOString()})):D(e=>({...e,[t]:"checkbox"===a?r:s}))},L=()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="abcdefghijklmnopqrstuvwxyz",s="0123456789",a="!@#$%^&*",r="";r+=e[Math.floor(Math.random()*e.length)],r+=t[Math.floor(Math.random()*t.length)],r+=s[Math.floor(Math.random()*s.length)],r+=a[Math.floor(Math.random()*a.length)];let l=e+t+s+a;for(let e=4;e<12;e++)r+=l[Math.floor(Math.random()*l.length)];return r.split("").sort(()=>Math.random()-.5).join("")},H=async e=>{e.preventDefault(),C(!0);try{var t,a;let e;if(!w.firstName||!w.lastName||!w.email||!w.studentId){O({type:"error",text:"Please fill in all required fields (First Name, Last Name, Email, Student ID)"}),C(!1);return}let r=w.password||L();if(console.log("=== ENROLLMENT DATE DEBUG ==="),console.log("newStudent.enrollmentDate (raw):",w.enrollmentDate),console.log("newStudent.enrollmentDate type:",typeof w.enrollmentDate),console.log("newStudent.enrollmentDate length:",null==(t=w.enrollmentDate)?void 0:t.length),console.log("newStudent.enrollmentDate trimmed:",null==(a=w.enrollmentDate)?void 0:a.trim()),console.log("Current date ISO:",new Date().toISOString()),w.enrollmentDate&&""!==w.enrollmentDate.trim())try{e=new Date(w.enrollmentDate).toISOString()}catch(t){console.warn("Invalid date provided, using current date:",t),e=new Date().toISOString()}else{let t=new Date;e=new Date(t.getFullYear(),t.getMonth(),t.getDate()).toISOString()}console.log("Final enrollment date to send:",e),console.log("Final enrollment date type:",typeof e);let l={email:w.email,password:r,firstName:w.firstName,lastName:w.lastName,studentId:w.studentId,...w.grade&&""!==w.grade.trim()&&{grade:w.grade},...w.major&&""!==w.major.trim()&&{major:w.major},...w.minor&&""!==w.minor.trim()&&{minor:w.minor},...w.advisoryTeacherId&&""!==w.advisoryTeacherId.trim()&&{advisoryTeacherId:w.advisoryTeacherId}};console.log("=== COMPLETE REQUEST PAYLOAD ==="),console.log("Creating student with data:",JSON.stringify(l,null,2)),await x.nC.users.createStudent(l),await P(),S({firstName:"",lastName:"",email:"",password:"",studentId:"",grade:"",major:s,minor:"",enrollmentDate:"",advisoryTeacherId:""}),O({type:"success",text:"Student ".concat(w.firstName," ").concat(w.lastName," created successfully! Password: ").concat(r)})}catch(t){console.error("Failed to create student:",t);let e="Unknown error";if(t&&"object"==typeof t&&"message"in t)e=Array.isArray(t.message)?t.message.join(", "):"string"==typeof t.message?t.message:t.error||"API Error";else if(t instanceof Error)e=t.message;else if("object"==typeof t&&null!==t)if("response"in t&&t.response){let s=t.response;s.data&&s.data.message?e=Array.isArray(s.data.message)?s.data.message.join(", "):s.data.message:s.statusText&&(e="".concat(s.status,": ").concat(s.statusText))}else e=JSON.stringify(t);O({type:"error",text:"Failed to create student: ".concat(e)})}finally{C(!1)}},q=async e=>{e.preventDefault(),I(!0);try{if(!k.firstName||!k.lastName||!k.email||!k.employeeId||!k.department||0===k.specialization.length){O({type:"error",text:"Please fill in all required fields (First Name, Last Name, Email, Employee ID, Department, Specializations)"}),I(!1);return}let e=k.password||L(),t={email:k.email,password:e,firstName:k.firstName,lastName:k.lastName,department:k.department,specialization:k.specialization,employeeId:k.employeeId,...k.position&&""!==k.position.trim()&&{position:k.position}};console.log("Creating teacher with data:",t),k.isSupervisor?await x.nC.users.createSupervisor(t):await x.nC.users.createTeacher(t),await U(),D({firstName:"",lastName:"",email:"",password:"",department:s,position:"",employeeId:"",hireDate:"",specialization:[],officeLocation:"",officeHours:"",isSupervisor:!1}),O({type:"success",text:"".concat(k.isSupervisor?"Supervisor":"Teacher"," ").concat(k.firstName," ").concat(k.lastName," created successfully! Password: ").concat(e)})}catch(t){console.error("Failed to create teacher:",t);let e="Unknown error";if(t&&"object"==typeof t&&"message"in t)e=Array.isArray(t.message)?t.message.join(", "):"string"==typeof t.message?t.message:t.error||"API Error";else if(t instanceof Error)e=t.message;else if("object"==typeof t&&null!==t)if("response"in t&&t.response){let s=t.response;s.data&&s.data.message?e=Array.isArray(s.data.message)?s.data.message.join(", "):s.data.message:s.statusText&&(e="".concat(s.status,": ").concat(s.statusText))}else e=JSON.stringify(t);O({type:"error",text:"Failed to create teacher: ".concat(e)})}finally{I(!1)}},z=async e=>{try{await x.nC.users.deleteUser(e),await P(),O({type:"success",text:"Student deleted successfully"})}catch(e){console.error("Failed to delete student:",e),O({type:"error",text:"Failed to delete student: ".concat(e instanceof Error?e.message:"Unknown error")})}},_=async e=>{try{await x.nC.users.deleteUser(e),await U(),O({type:"success",text:"Teacher deleted successfully"})}catch(e){console.error("Failed to delete teacher:",e),O({type:"error",text:"Failed to delete teacher: ".concat(e instanceof Error?e.message:"Unknown error")})}},B={name:(null==t?void 0:t.profile)?"".concat(t.profile.firstName," ").concat(t.profile.lastName):"Loading...",email:(null==t?void 0:t.email)||""},G=(0,a.jsx)(c.Y,{userType:"teacher",userData:B});return(0,a.jsx)(m.q_,{requiredRoles:["SUPERVISOR_TEACHER"],children:(0,a.jsx)(o.CF,{drawerContent:G,children:(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"User Registration Dashboard"}),(0,a.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Register and manage student and teacher accounts (Supervisor Teachers only)"})]}),A&&(0,a.jsx)(d.Zp,{className:"mb-6 ".concat("success"===A.type?"border-green-200 bg-green-50 dark:bg-green-900/20":"border-red-200 bg-red-50 dark:bg-red-900/20"),children:(0,a.jsx)(d.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-sm ".concat("success"===A.type?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:A.text}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>O(null),className:"ml-4",children:"✕"})]})})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{className:"cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",onClick:()=>R("student"===F?"teacher":"student"),children:[(0,a.jsxs)(d.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83C\uDF93"}),(0,a.jsx)("span",{children:"Register Student"}),(0,a.jsxs)("span",{className:"text-sm bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[y?"...":h.length," registered"]})]}),(0,a.jsx)("div",{className:"transform transition-transform",children:"student"===F?"▼":"▶"})]}),(0,a.jsx)(d.BT,{children:"Add new students to the system with auto-generated secure passwords"})]}),"student"===F&&(0,a.jsx)(d.Wu,{className:"border-t",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 pt-6",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"student-firstName",children:"First Name"}),(0,a.jsx)(n.p,{id:"student-firstName",name:"firstName",type:"text",placeholder:"John",value:w.firstName,onChange:M,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"student-lastName",children:"Last Name"}),(0,a.jsx)(n.p,{id:"student-lastName",name:"lastName",type:"text",placeholder:"Doe",value:w.lastName,onChange:M,required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"student-email",children:"Student Email"}),(0,a.jsx)(n.p,{id:"student-email",name:"email",type:"email",placeholder:"jane.doe@student.edu",value:w.email,onChange:M,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"student-studentId",children:"Student ID"}),(0,a.jsx)(n.p,{id:"student-studentId",name:"studentId",type:"text",placeholder:"STU20240001",value:w.studentId,onChange:M,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"student-grade",children:"Grade"}),(0,a.jsxs)("select",{id:"student-grade",name:"grade",value:w.grade,onChange:M,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,a.jsx)("option",{value:"",children:"Select Grade"}),(0,a.jsx)("option",{value:"1",children:"1"}),(0,a.jsx)("option",{value:"2",children:"2"}),(0,a.jsx)("option",{value:"3",children:"3"}),(0,a.jsx)("option",{value:"4",children:"4"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"student-major",children:"Major"}),(0,a.jsx)(n.p,{id:"student-major",name:"major",type:"text",placeholder:"Computer Science",value:w.major||s,readOnly:!0,className:"bg-gray-50 dark:bg-gray-800 cursor-not-allowed",title:"Major is automatically set from supervisor's department"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"\uD83D\uDCCD Automatically set from your department"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"student-minor",children:"Minor"}),(0,a.jsx)(n.p,{id:"student-minor",name:"minor",type:"text",placeholder:"Mathematics",value:w.minor,onChange:M})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"student-password",children:"Password (optional - auto-generated if empty)"}),(0,a.jsx)(n.p,{id:"student-password",name:"password",type:"password",placeholder:"Leave empty for auto-generated password",value:w.password,onChange:M})]}),(0,a.jsx)(l.$,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:E,children:E?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Creating Student..."})]}):"Create Student Account"})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Students Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:y?"...":h.length}),(0,a.jsx)("div",{className:"text-sm text-blue-600/80 dark:text-blue-400/80",children:"Total Students"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:y?"...":h.length}),(0,a.jsx)("div",{className:"text-sm text-green-600/80 dark:text-green-400/80",children:"In Department"})]})]})]})]})})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{className:"cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",onClick:()=>R("teacher"===F?"student":"teacher"),children:[(0,a.jsxs)(d.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDC69‍\uD83C\uDFEB"}),(0,a.jsx)("span",{children:"Register Teacher"}),(0,a.jsxs)("span",{className:"text-sm bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded",children:[v?"...":f.length," registered"]})]}),(0,a.jsx)("div",{className:"transform transition-transform",children:"teacher"===F?"▼":"▶"})]}),(0,a.jsx)(d.BT,{children:"Add new teachers to the system with supervisor privileges option"})]}),"teacher"===F&&(0,a.jsx)(d.Wu,{className:"border-t",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 pt-6",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-firstName",children:"First Name"}),(0,a.jsx)(n.p,{id:"teacher-firstName",name:"firstName",type:"text",placeholder:"John",value:k.firstName,onChange:J,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-lastName",children:"Last Name"}),(0,a.jsx)(n.p,{id:"teacher-lastName",name:"lastName",type:"text",placeholder:"Smith",value:k.lastName,onChange:J,required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-email",children:"Teacher Email"}),(0,a.jsx)(n.p,{id:"teacher-email",name:"email",type:"email",placeholder:"john.smith@teacher.edu",value:k.email,onChange:J,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-employeeId",children:"Employee ID"}),(0,a.jsx)(n.p,{id:"teacher-employeeId",name:"employeeId",type:"text",placeholder:"EMP20240001",value:k.employeeId,onChange:J,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-department",children:"Department"}),(0,a.jsx)(n.p,{id:"teacher-department",name:"department",type:"text",placeholder:"Computer Science",value:k.department||s,readOnly:!0,className:"bg-gray-50 dark:bg-gray-800 cursor-not-allowed",title:"Department is automatically set from supervisor's profile"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"\uD83D\uDCCD Automatically set from your department"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-position",children:"Position"}),(0,a.jsx)(n.p,{id:"teacher-position",name:"position",type:"text",placeholder:"Assistant Professor",value:k.position,onChange:J})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-hireDate",children:"Hire Date"}),(0,a.jsx)(n.p,{id:"teacher-hireDate",name:"hireDate",type:"date",value:k.hireDate?k.hireDate.split("T")[0]:"",onChange:J})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-specialization",children:"Specializations (comma-separated)"}),(0,a.jsx)(n.p,{id:"teacher-specialization",name:"specialization",type:"text",placeholder:"Data Structures, Algorithms, Web Development",value:k.specialization.join(", "),onChange:J,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-officeLocation",children:"Office Location"}),(0,a.jsx)(n.p,{id:"teacher-officeLocation",name:"officeLocation",type:"text",placeholder:"Building A, Room 205",value:k.officeLocation,onChange:J})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-officeHours",children:"Office Hours"}),(0,a.jsx)(n.p,{id:"teacher-officeHours",name:"officeHours",type:"text",placeholder:"Mon-Wed-Fri 2:00-4:00 PM",value:k.officeHours,onChange:J})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"teacher-password",children:"Password (optional - auto-generated if empty)"}),(0,a.jsx)(n.p,{id:"teacher-password",name:"password",type:"password",placeholder:"Leave empty for auto-generated password",value:k.password,onChange:J})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{id:"teacher-supervisor",name:"isSupervisor",type:"checkbox",checked:k.isSupervisor,onChange:J,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,a.jsx)(i.J,{htmlFor:"teacher-supervisor",className:"text-sm font-medium",children:"Grant Supervisor Privileges"})]}),(0,a.jsx)(l.$,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:T,children:T?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Creating Teacher..."})]}):"Create Teacher Account"})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Teachers Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:v?"...":f.length}),(0,a.jsx)("div",{className:"text-sm text-green-600/80 dark:text-green-400/80",children:"Total Teachers"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:v?"...":f.filter(e=>"SUPERVISOR_TEACHER"===e.role).length}),(0,a.jsx)("div",{className:"text-sm text-purple-600/80 dark:text-purple-400/80",children:"Supervisors"})]})]})]})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mt-8",children:[(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83C\uDF93"}),(0,a.jsx)("span",{children:"Student Accounts"})]}),(0,a.jsx)(d.BT,{children:"Manage existing student accounts. Share credentials with students for login."})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsx)("th",{className:"text-left py-2 px-2 font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Name"}),(0,a.jsx)("th",{className:"text-left py-2 px-2 font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Email"}),(0,a.jsx)("th",{className:"text-left py-2 px-2 font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Student ID"}),(0,a.jsx)("th",{className:"text-left py-2 px-2 font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:y?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"py-8 text-center text-slate-500 dark:text-slate-400 text-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Loading students..."})]})})}):h.length>0?h.map(e=>{var t,s,r;return(0,a.jsxs)("tr",{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[(0,a.jsxs)("td",{className:"py-2 px-2 text-sm",children:[null==(t=e.profile)?void 0:t.firstName," ",null==(s=e.profile)?void 0:s.lastName]}),(0,a.jsx)("td",{className:"py-2 px-2",children:(0,a.jsx)("span",{className:"font-mono text-xs bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:e.email})}),(0,a.jsx)("td",{className:"py-2 px-2",children:(0,a.jsx)("span",{className:"font-mono text-xs bg-gray-100 dark:bg-gray-900/30 px-2 py-1 rounded",children:(null==(r=e.profile)?void 0:r.studentId)||"N/A"})}),(0,a.jsx)("td",{className:"py-2 px-2",children:(0,a.jsx)(l.$,{variant:"destructive",size:"sm",onClick:()=>z(e.id),className:"text-xs px-2 py-1",children:"Delete"})})]},e.id)}):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"py-8 text-center text-slate-500 dark:text-slate-400 text-sm",children:"No students in your department yet."})})})]})})})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDC69‍\uD83C\uDFEB"}),(0,a.jsx)("span",{children:"Teacher Accounts"})]}),(0,a.jsx)(d.BT,{children:"Manage existing teacher accounts and their supervisor privileges."})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[(0,a.jsx)("th",{className:"text-left py-2 px-2 font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Name"}),(0,a.jsx)("th",{className:"text-left py-2 px-2 font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Email"}),(0,a.jsx)("th",{className:"text-left py-2 px-2 font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Role"}),(0,a.jsx)("th",{className:"text-left py-2 px-2 font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Employee ID"}),(0,a.jsx)("th",{className:"text-left py-2 px-2 font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:v?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"py-8 text-center text-slate-500 dark:text-slate-400 text-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Loading teachers..."})]})})}):f.length>0?f.map(e=>{var t,s,r;return(0,a.jsxs)("tr",{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[(0,a.jsxs)("td",{className:"py-2 px-2 text-sm",children:[null==(t=e.profile)?void 0:t.firstName," ",null==(s=e.profile)?void 0:s.lastName]}),(0,a.jsx)("td",{className:"py-2 px-2",children:(0,a.jsx)("span",{className:"font-mono text-xs bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded",children:e.email})}),(0,a.jsx)("td",{className:"py-2 px-2",children:(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("SUPERVISOR_TEACHER"===e.role?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300"),children:"SUPERVISOR_TEACHER"===e.role?"Supervisor":"Teacher"})}),(0,a.jsx)("td",{className:"py-2 px-2",children:(0,a.jsx)("span",{className:"font-mono text-xs bg-gray-100 dark:bg-gray-900/30 px-2 py-1 rounded",children:(null==(r=e.profile)?void 0:r.employeeId)||"N/A"})}),(0,a.jsx)("td",{className:"py-2 px-2",children:(0,a.jsx)(l.$,{variant:"destructive",size:"sm",onClick:()=>_(e.id),className:"text-xs px-2 py-1",children:"Delete"})})]},e.id)}):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"py-8 text-center text-slate-500 dark:text-slate-400 text-sm",children:"No teachers in your department yet."})})})]})})})]})]}),(0,a.jsxs)(d.Zp,{className:"mt-8 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"flex items-center space-x-2 text-blue-800 dark:text-blue-200",children:[(0,a.jsx)("span",{children:"ℹ️"}),(0,a.jsx)("span",{children:"Instructions for Students"})]})}),(0,a.jsxs)(d.Wu,{className:"text-blue-700 dark:text-blue-300",children:[(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2",children:[(0,a.jsx)("li",{children:'Go to the login page and select "Student Login" (default tab)'}),(0,a.jsx)("li",{children:"Enter the student email address provided by your teacher"}),(0,a.jsx)("li",{children:"Enter the password provided by your teacher"}),(0,a.jsx)("li",{children:'Click "Access Student Portal" to login'})]}),(0,a.jsxs)("p",{className:"mt-4 text-sm",children:[(0,a.jsx)("strong",{children:"Note:"})," Students cannot register themselves. Only supervisor teachers can create student accounts."]})]})]})]})})})})}}},e=>{e.O(0,[874,794,352,541,828,441,964,358],()=>e(e.s=4771)),_N_E=e.O()}]);