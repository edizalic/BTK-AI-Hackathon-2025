(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{229:(e,s,r)=>{"use strict";r.d(s,{CU:()=>d,UA:()=>o,fF:()=>c,q_:()=>i});var t=r(5155),a=r(2115),l=r(5695),n=r(1541);function i(e){let{children:s,requiredRoles:r=[],fallbackPath:i="/login",requireAuth:c=!0}=e,{user:o,isAuthenticated:d,isLoading:u}=(0,n.A)(),m=(0,l.useRouter)(),x=(0,l.usePathname)();return((0,a.useEffect)(()=>{if(!u){if(c&&!d){let e="/login"!==x?"?returnUrl=".concat(encodeURIComponent(x)):"";m.push("".concat(i).concat(e));return}if(d&&o&&r.length>0&&!r.includes(o.role)){switch(o.role){case"ADMIN":m.push("/admin-portal");break;case"SUPERVISOR_TEACHER":case"TEACHER":m.push("/teacher-portal");break;case"STUDENT":m.push("/student-portal");break;default:m.push("/")}return}}},[d,u,o,r,m,x,i,c]),u)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c&&!d||d&&o&&r.length>0&&!r.includes(o.role)?null:(0,t.jsx)(t.Fragment,{children:s})}function c(e){let{children:s}=e;return(0,t.jsx)(i,{requiredRoles:["STUDENT"],children:s})}function o(e){let{children:s}=e;return(0,t.jsx)(i,{requiredRoles:["TEACHER","SUPERVISOR_TEACHER"],children:s})}function d(e){let{children:s}=e,{isAuthenticated:r,isLoading:i,user:c}=(0,n.A)(),o=(0,l.useRouter)();return((0,a.useEffect)(()=>{if(!i&&r&&c&&c.role){let e=setTimeout(()=>{let e="STUDENT"===c.role?"/student-portal":"TEACHER"===c.role||"SUPERVISOR_TEACHER"===c.role?"/teacher-portal":"ADMIN"===c.role?"/admin-portal":"/";window.location.href=e},500);return()=>clearTimeout(e)}},[r,i,c,o]),i)?(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,t.jsx)("p",{className:"ml-2 text-gray-600",children:"Loading the dashboard..."})]}):r&&c&&c.role?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading the dashboard..."})]})}):(0,t.jsx)(t.Fragment,{children:s})}},968:(e,s,r)=>{"use strict";r.d(s,{b:()=>i});var t=r(2115),a=r(3655),l=r(5155),n=t.forwardRef((e,s)=>(0,l.jsx)(a.sG.label,{...e,ref:s,onMouseDown:s=>{var r;s.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var i=n},2523:(e,s,r)=>{"use strict";r.d(s,{p:()=>n});var t=r(5155),a=r(2115),l=r(9434);let n=a.forwardRef((e,s)=>{let{className:r,type:a,...n}=e;return(0,t.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...n})});n.displayName="Input"},2776:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>j});var t=r(5155),a=r(2115),l=r(8950),n=r(4774),i=r(6695),c=r(285),o=r(2523),d=r(5057),u=r(229),m=r(1541),x=r(4247),p=r(6977),h=r(9434),g=r(6874),f=r.n(g);function j(){var e;let{user:s}=(0,m.A)(),r=(null==s||null==(e=s.profile)?void 0:e.department)||"Computer Science",[g,j]=(0,a.useState)([]),[v,b]=(0,a.useState)(!0),[y,N]=(0,a.useState)(null),[C,w]=(0,a.useState)(""),[D,k]=(0,a.useState)("all"),[E,S]=(0,a.useState)(null),[T,R]=(0,a.useState)(!1),[A,F]=(0,a.useState)(!1),[I,U]=(0,a.useState)([]),[J,O]=(0,a.useState)(!1),[L,P]=(0,a.useState)({code:"",name:"",description:"",credits:3,scheduleDays:[],startTime:"",endTime:"",location:"",building:"",room:"",instructorId:"",semester:"",year:new Date().getFullYear(),capacity:30,category:"",level:"UNDERGRADUATE",startDate:"",endDate:"",enrollmentDeadline:""});(0,a.useEffect)(()=>{if(E){let e=setTimeout(()=>{S(null)},1e4);return()=>clearTimeout(e)}},[E]),(0,a.useEffect)(()=>{r&&(B(),Z())},[r]);let B=async()=>{try{b(!0),N(null),console.log("=== FETCHING COURSES FOR DEPARTMENT ==="),console.log("Supervisor department:",r),console.log("Fetching all courses first...");let e=await x.nC.courses.getCourses({});console.log("All courses API response:",e),console.log("All courses response keys:",Object.keys(e));let t=e.courses||[];console.log("All courses array:",t),console.log("Total courses in system:",t.length),t.forEach((e,s)=>{var r,t,a,l;console.log("Course ".concat(s,":"),{id:e.id,code:e.code,name:e.name,departmentId:e.departmentId,instructor:(null==(r=e.instructor)?void 0:r.profile)?"".concat(e.instructor.profile.firstName," ").concat(e.instructor.profile.lastName):null==(t=e.instructor)?void 0:t.email,createdBy:(null==(a=e.createdBy)?void 0:a.profile)?"".concat(e.createdBy.profile.firstName," ").concat(e.createdBy.profile.lastName):null==(l=e.createdBy)?void 0:l.email})});let a=t.filter(e=>{var t,a,l,n;let i=e.createdById===(null==s?void 0:s.id),c=(null==(a=e.instructor)||null==(t=a.profile)?void 0:t.department)===r,o=i||c;return console.log("Course ".concat(e.code,":"),{departmentId:e.departmentId,createdById:e.createdById,currentUserId:null==s?void 0:s.id,createdByCurrentUser:i,instructorDept:null==(n=e.instructor)||null==(l=n.profile)?void 0:l.department,supervisorDept:r,instructorInSameDept:c,finalMatch:o}),o});console.log("Courses after filtering by department:",a.length),console.log("Filtered courses:",a),j(a)}catch(e){console.error("Failed to fetch courses:",e),N("Failed to load courses"),S({type:"error",text:"Failed to load courses for your department"})}finally{b(!1)}},Z=async()=>{try{O(!0);let e=await x.nC.users.getUsers({role:p.gG.TEACHER}),s=await x.nC.users.getUsers({role:p.gG.SUPERVISOR_TEACHER}),t=e.users||[],a=s.users||[],l=[...t,...a].filter(e=>{var s;return(null==(s=e.profile)?void 0:s.department)===r});U(l)}catch(e){console.error("Failed to fetch teachers and supervisors:",e),S({type:"error",text:"Failed to load instructors list"})}finally{O(!1)}},_=g.filter(e=>{var s;let r=(null==(s=e.instructor)?void 0:s.profile)?"".concat(e.instructor.profile.firstName," ").concat(e.instructor.profile.lastName):"",t=""===C||e.name.toLowerCase().includes(C.toLowerCase())||e.code.toLowerCase().includes(C.toLowerCase())||r.toLowerCase().includes(C.toLowerCase()),a="all"===D||e.status===D;return t&&a}),G=_.reduce((e,s)=>{let r=s.status||"unknown";return e[r]||(e[r]=[]),e[r].push(s),e},{}),H=e=>{let{name:s,value:r,type:t}=e.target;if("scheduleDays"===s){let r=Array.from(e.target.selectedOptions,e=>e.value);P(e=>({...e,[s]:r}))}else"number"===t?P(e=>({...e,[s]:parseInt(r)||0})):P(e=>({...e,[s]:r}))},q=async e=>{e.preventDefault(),F(!0);try{if(console.log("=== VALIDATING FORM DATA ==="),console.log("Form data:",L),!L.code||!L.name||!L.instructorId||!L.semester){let e=[];L.code||e.push("Code"),L.name||e.push("Name"),L.instructorId||e.push("Instructor"),L.semester||e.push("Semester"),S({type:"error",text:"Please fill in all required fields: ".concat(e.join(", "))}),F(!1);return}if(0===L.scheduleDays.length){S({type:"error",text:"Please select at least one schedule day"}),F(!1);return}let e=I.find(e=>e.id===L.instructorId);if(!e){S({type:"error",text:"Selected instructor not found. Please refresh and try again."}),F(!1);return}console.log("Selected instructor:",e),console.log("Supervisor department for course:",r);let s={code:L.code,name:L.name,description:L.description,credits:L.credits,scheduleDays:L.scheduleDays,startTime:L.startTime,endTime:L.endTime,location:L.location,building:L.building||void 0,room:L.room||void 0,instructorId:L.instructorId,semester:L.semester,year:L.year,capacity:L.capacity,category:L.category,departmentId:r,level:L.level,startDate:L.startDate,endDate:L.endDate,enrollmentDeadline:L.enrollmentDeadline||void 0};console.log("=== CREATING COURSE ==="),console.log("Course data:",JSON.stringify(s,null,2));let t=await x.nC.courses.createCourse(s);console.log("Course creation result:",t),await B(),P({code:"",name:"",description:"",credits:3,scheduleDays:[],startTime:"",endTime:"",location:"",building:"",room:"",instructorId:"",semester:"",year:new Date().getFullYear(),capacity:30,category:"",level:"UNDERGRADUATE",startDate:"",endDate:"",enrollmentDeadline:""}),R(!1),S({type:"success",text:"Course ".concat(L.code," - ").concat(L.name," created successfully!")})}catch(r){var s,t,a,l,n;console.error("=== COURSE CREATION ERROR ==="),console.error("Full error object:",r),console.error("Error type:",typeof r),console.error("Error constructor:",null==r||null==(s=r.constructor)?void 0:s.name);let e="Unknown error occurred";r&&"object"==typeof r?(console.error("Error keys:",Object.keys(r)),"message"in r?(console.error("Error message:",r.message),e=Array.isArray(r.message)?r.message.join(", "):"string"==typeof r.message?r.message:JSON.stringify(r.message)):"response"in r?(console.error("HTTP response:",r.response),e=(null==(a=r.response)||null==(t=a.data)?void 0:t.message)?Array.isArray(r.response.data.message)?r.response.data.message.join(", "):r.response.data.message:(null==(l=r.response)?void 0:l.statusText)?"".concat(r.response.status,": ").concat(r.response.statusText):"HTTP Error: ".concat((null==(n=r.response)?void 0:n.status)||"Unknown")):e="error"in r?r.error:JSON.stringify(r)):r instanceof Error?e=r.message:"string"==typeof r&&(e=r),console.error("Final error message:",e),S({type:"error",text:"Failed to create course: ".concat(e)})}finally{F(!1)}},W=e=>{var s,r,a,l;let{course:n}=e;return(0,t.jsxs)(i.Zp,{className:"hover:shadow-md transition-all duration-200",children:[(0,t.jsx)(i.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(i.ZB,{className:"text-lg font-semibold text-foreground",children:n.name}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm font-mono",children:n.code})]}),(0,t.jsx)("span",{className:(0,h.cn)("px-2 py-1 rounded-full text-xs font-medium capitalize",(e=>{switch(e.toLowerCase()){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"upcoming":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}})(n.status)),children:n.status})]})}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold text-xs",children:(null==(s=n.instructor)?void 0:s.profile)?"".concat(n.instructor.profile.firstName[0]).concat(n.instructor.profile.lastName[0]):"N/A"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-foreground text-sm",children:(null==(r=n.instructor)?void 0:r.profile)?"".concat(n.instructor.profile.firstName," ").concat(n.instructor.profile.lastName):"No instructor assigned"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:null==(a=n.instructor)?void 0:a.email})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Credits:"}),(0,t.jsx)("span",{className:"font-medium",children:n.credits||"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Capacity:"}),(0,t.jsx)("span",{className:"font-medium",children:n.capacity||"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Enrolled:"}),(0,t.jsx)("span",{className:"font-medium",children:n.enrolled||0})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Semester:"}),(0,t.jsxs)("span",{className:"font-medium",children:[n.semester," ",n.year]})]})]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsxs)("p",{className:"text-foreground font-medium",children:[null==(l=n.scheduleDays)?void 0:l.map(e=>e.charAt(0).toUpperCase()+e.slice(1,3)).join(", ")," • ",n.startTime]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:n.location})]}),(0,t.jsx)(f(),{href:"/courses/".concat(n.id),children:(0,t.jsx)(c.$,{variant:"default",size:"sm",className:"w-full",children:"View Course Details"})})]})]})},M={name:(null==s?void 0:s.profile)?"".concat(s.profile.firstName," ").concat(s.profile.lastName):"Loading...",email:(null==s?void 0:s.email)||""},$=(0,t.jsx)(n.Y,{userType:"teacher",userData:M});return(0,t.jsx)(u.q_,{requiredRoles:["SUPERVISOR_TEACHER"],children:(0,t.jsx)(l.CF,{drawerContent:$,children:(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Department Courses"}),(0,t.jsxs)("p",{className:"text-slate-600 dark:text-slate-300",children:["Manage all courses in ",r," department"]})]}),E&&(0,t.jsx)(i.Zp,{className:"mb-6 ".concat("success"===E.type?"border-green-200 bg-green-50 dark:bg-green-900/20":"border-red-200 bg-red-50 dark:bg-red-900/20"),children:(0,t.jsx)(i.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm ".concat("success"===E.type?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:E.text}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>S(null),className:"ml-4",children:"✕"})]})})}),(0,t.jsx)(i.Zp,{className:"mb-6",children:(0,t.jsx)(i.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"search",children:"Search Courses"}),(0,t.jsx)(o.p,{id:"search",type:"text",placeholder:"Search by course name, code, or instructor...",value:C,onChange:e=>w(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"status-filter",children:"Filter by Status"}),(0,t.jsxs)("select",{id:"status-filter",value:D,onChange:e=>k(e.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[(0,t.jsx)("option",{value:"all",children:"All Statuses"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"upcoming",children:"Upcoming"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{children:"\xa0"}),(0,t.jsxs)(c.$,{onClick:()=>R(!0),className:"w-full bg-green-600 hover:bg-green-700",children:[(0,t.jsx)("span",{className:"mr-2 text-white font-black text-xl",children:"+"}),"Create New Course"]})]})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsx)(i.Zp,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:(0,t.jsxs)(i.Wu,{className:"p-4 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:v?"...":_.length}),(0,t.jsx)("div",{className:"text-sm text-blue-600/80 dark:text-blue-400/80",children:"Total Courses"})]})}),["active","upcoming","completed"].map(e=>{var s;return(0,t.jsx)(i.Zp,{className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",children:(0,t.jsxs)(i.Wu,{className:"p-4 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:v?"...":(null==(s=G[e])?void 0:s.length)||0}),(0,t.jsx)("div",{className:"text-sm text-green-600/80 dark:text-green-400/80 capitalize",children:e})]})},e)})]}),v&&(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-8 text-center",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Loading courses..."})]})})}),y&&!v&&(0,t.jsx)(i.Zp,{className:"border-red-200 bg-red-50 dark:bg-red-900/20",children:(0,t.jsx)(i.Wu,{className:"p-8 text-center",children:(0,t.jsxs)("div",{className:"text-red-600 dark:text-red-400",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"⚠️"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Error Loading Courses"}),(0,t.jsx)("p",{className:"text-sm",children:y}),(0,t.jsx)(c.$,{onClick:B,className:"mt-4",variant:"outline",children:"Try Again"})]})})}),!v&&!y&&(0,t.jsx)("div",{className:"space-y-6",children:0===Object.keys(G).length?(0,t.jsx)(i.Zp,{children:(0,t.jsx)(i.Wu,{className:"p-8 text-center",children:(0,t.jsxs)("div",{className:"text-slate-500 dark:text-slate-400",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCDA"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No Courses Found"}),(0,t.jsx)("p",{className:"text-sm",children:C||"all"!==D?"No courses match your current filters.":"No courses are available in your department yet."})]})})}):Object.entries(G).map(e=>{let[s,r]=e;return(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:(e=>{switch(e.toLowerCase()){case"active":return"\uD83D\uDFE2";case"completed":return"✅";case"upcoming":return"\uD83D\uDD1C";case"cancelled":return"❌";default:return"❓"}})(s)}),(0,t.jsxs)("span",{className:"capitalize",children:[s," Courses"]}),(0,t.jsxs)("span",{className:"text-sm bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[r.length," courses"]})]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,t.jsx)(W,{course:e},e.id))})})]},s)})})]}),T&&(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},children:(0,t.jsxs)(i.Zp,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsxs)(i.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-green-600 font-black text-2xl",children:"+"}),(0,t.jsx)("span",{children:"Create New Course"})]}),(0,t.jsxs)(i.BT,{children:["Create a new course for ",r," department"]})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("form",{onSubmit:q,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium border-b pb-2",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"course-code",children:"Course Code *"}),(0,t.jsx)(o.p,{id:"course-code",name:"code",type:"text",placeholder:"CS101",value:L.code,onChange:H,required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"course-name",children:"Course Name *"}),(0,t.jsx)(o.p,{id:"course-name",name:"name",type:"text",placeholder:"Introduction to Computer Science",value:L.name,onChange:H,required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"course-description",children:"Description"}),(0,t.jsx)("textarea",{id:"course-description",name:"description",placeholder:"Course description...",value:L.description,onChange:H,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"credits",children:"Credits"}),(0,t.jsx)(o.p,{id:"credits",name:"credits",type:"number",min:"1",max:"6",value:L.credits,onChange:H})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"capacity",children:"Capacity"}),(0,t.jsx)(o.p,{id:"capacity",name:"capacity",type:"number",min:"1",max:"200",value:L.capacity,onChange:H})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"level",children:"Level"}),(0,t.jsxs)("select",{id:"level",name:"level",value:L.level,onChange:H,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[(0,t.jsx)("option",{value:"UNDERGRADUATE",children:"Undergraduate"}),(0,t.jsx)("option",{value:"GRADUATE",children:"Graduate"}),(0,t.jsx)("option",{value:"DOCTORAL",children:"Doctoral"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium border-b pb-2",children:"Schedule Information"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{children:"Schedule Days *"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>{P(s=>({...s,scheduleDays:s.scheduleDays.includes(e)?s.scheduleDays.filter(s=>s!==e):[...s.scheduleDays,e]}))},className:"px-3 py-1 rounded-md text-sm font-medium transition-colors ".concat(L.scheduleDays.includes(e)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.charAt(0).toUpperCase()+e.slice(1,3)},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"start-time",children:"Start Time"}),(0,t.jsx)(o.p,{id:"start-time",name:"startTime",type:"time",value:L.startTime,onChange:H})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"end-time",children:"End Time"}),(0,t.jsx)(o.p,{id:"end-time",name:"endTime",type:"time",value:L.endTime,onChange:H})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"location",children:"Location"}),(0,t.jsx)(o.p,{id:"location",name:"location",type:"text",placeholder:"Room 101",value:L.location,onChange:H})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"building",children:"Building"}),(0,t.jsx)(o.p,{id:"building",name:"building",type:"text",placeholder:"Science Building",value:L.building,onChange:H})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"room",children:"Room"}),(0,t.jsx)(o.p,{id:"room",name:"room",type:"text",placeholder:"101",value:L.room,onChange:H})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium border-b pb-2",children:"Academic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"instructor",children:"Instructor *"}),(0,t.jsxs)("select",{id:"instructor",name:"instructorId",value:L.instructorId,onChange:H,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Instructor"}),I.map(e=>{var s,r;return(0,t.jsxs)("option",{value:e.id,children:[null==(s=e.profile)?void 0:s.firstName," ",null==(r=e.profile)?void 0:r.lastName," (",e.email,")"]},e.id)})]}),J&&(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Loading teachers..."}),!J&&0===I.length&&(0,t.jsxs)("p",{className:"text-xs text-red-500",children:["No teachers found in ",r," department"]}),!J&&I.length>0&&(0,t.jsxs)("p",{className:"text-xs text-green-600",children:[I.length," teachers available"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"category",children:"Category"}),(0,t.jsx)(o.p,{id:"category",name:"category",type:"text",placeholder:"Core, Elective, etc.",value:L.category,onChange:H})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"semester",children:"Semester *"}),(0,t.jsxs)("select",{id:"semester",name:"semester",value:L.semester,onChange:H,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Semester"}),(0,t.jsx)("option",{value:"Fall",children:"Fall"}),(0,t.jsx)("option",{value:"Spring",children:"Spring"}),(0,t.jsx)("option",{value:"Summer",children:"Summer"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"year",children:"Year"}),(0,t.jsx)(o.p,{id:"year",name:"year",type:"number",min:"2020",max:"2030",value:L.year,onChange:H})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium border-b pb-2",children:"Important Dates"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"start-date",children:"Start Date"}),(0,t.jsx)(o.p,{id:"start-date",name:"startDate",type:"date",value:L.startDate,onChange:H})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"end-date",children:"End Date"}),(0,t.jsx)(o.p,{id:"end-date",name:"endDate",type:"date",value:L.endDate,onChange:H})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"enrollment-deadline",children:"Enrollment Deadline"}),(0,t.jsx)(o.p,{id:"enrollment-deadline",name:"enrollmentDeadline",type:"date",value:L.enrollmentDeadline,onChange:H})]})]})]})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 p-6 border-t",children:[(0,t.jsx)(c.$,{variant:"outline",onClick:()=>R(!1),disabled:A,children:"Cancel"}),(0,t.jsx)(c.$,{onClick:q,className:"bg-green-600 hover:bg-green-700",disabled:A,children:A?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Creating..."})]}):"Create Course"})]})]})})]})})})}},3655:(e,s,r)=>{"use strict";r.d(s,{sG:()=>n});var t=r(2115);r(7650);var a=r(9708),l=r(5155),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let r=(0,a.TL)(`Primitive.${s}`),n=t.forwardRef((e,t)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(a?r:s,{...n,ref:t})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{})},5057:(e,s,r)=>{"use strict";r.d(s,{J:()=>o});var t=r(5155),a=r(2115),l=r(968),n=r(2085),i=r(9434);let c=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(l.b,{ref:s,className:(0,i.cn)(c(),r),...a})});o.displayName=l.b.displayName},7970:(e,s,r)=>{Promise.resolve().then(r.bind(r,2776))}},e=>{e.O(0,[874,794,352,541,828,441,964,358],()=>e(e.s=7970)),_N_E=e.O()}]);