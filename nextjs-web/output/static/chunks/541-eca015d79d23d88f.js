"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{1541:(t,e,a)=>{a.d(e,{A:()=>u,AuthProvider:()=>i});var n=a(5155),s=a(2115),c=a(5695),r=a(4247);let o=(0,s.createContext)(void 0);function i(t){let{children:e}=t,[a,i]=(0,s.useState)({user:null,isAuthenticated:!1,isLoading:!0,tokens:{accessToken:null,refreshToken:null}}),u=(0,c.useRouter)();(0,s.useEffect)(()=>{let t=setTimeout(()=>{l()},100);return()=>clearTimeout(t)},[]);let l=async()=>{try{i(t=>({...t,isLoading:!0}));let t=r.tC.getTokens();if(!t.accessToken){r.tC.clearTokens(),i(t=>({...t,isAuthenticated:!1,user:null,isLoading:!1,tokens:{accessToken:null,refreshToken:null}}));return}try{let e=await r.nC.auth.getProfile();if(e&&"object"==typeof e&&"data"in e&&(e=e.data),!e||!e.role||!e.email)throw Error("Invalid user profile data");i(a=>({...a,user:e,isAuthenticated:!0,isLoading:!1,tokens:t}))}catch(e){if(t.refreshToken)try{await E()}catch(t){r.tC.clearTokens(),i(t=>({...t,user:null,isAuthenticated:!1,isLoading:!1,tokens:{accessToken:null,refreshToken:null}}))}else r.tC.clearTokens(),i(t=>({...t,user:null,isAuthenticated:!1,isLoading:!1,tokens:{accessToken:null,refreshToken:null}}))}}catch(t){r.tC.clearTokens(),i(t=>({...t,isAuthenticated:!1,user:null,isLoading:!1,tokens:{accessToken:null,refreshToken:null}}))}},A=async(t,e)=>{try{i(t=>({...t,isLoading:!0}));let a=await r.nC.auth.login({email:t,password:e}),n=a;a&&"object"==typeof a&&"data"in a&&(n=a.data),r.tC.storeTokens(n),i(t=>({...t,user:n.user,isAuthenticated:!0,isLoading:!1,tokens:{accessToken:n.accessToken,refreshToken:n.refreshToken||null}})),setTimeout(()=>{d(n.user.role)},100)}catch(t){throw i(t=>({...t,isLoading:!1})),t}},T=async()=>{try{await r.nC.auth.logout()}catch(t){console.error("Logout API call failed:",t)}finally{r.tC.clearTokens(),i({user:null,isAuthenticated:!1,isLoading:!1,tokens:{accessToken:null,refreshToken:null}}),u.push("/login")}},E=async()=>{try{let t=r.tC.getTokens();if(!t.refreshToken)throw Error("No refresh token available");let e=await r.nC.auth.refreshToken({refreshToken:t.refreshToken}),a=e;e&&"object"==typeof e&&"data"in e&&(a=e.data),r.tC.storeTokens(a),i(t=>({...t,tokens:{accessToken:a.accessToken,refreshToken:a.refreshToken||null}}))}catch(t){throw console.error("Token refresh failed:",t),await T(),t}},d=t=>{window.location.href="STUDENT"===t?"/student-portal":"TEACHER"===t||"SUPERVISOR_TEACHER"===t?"/teacher-portal":"ADMIN"===t?"/admin-portal":"/"},g={...a,login:A,logout:T,refreshTokens:E,checkAuth:l};return(0,s.useEffect)(()=>{window.authDebug={clearTokens:()=>{r.tC.clearTokens(),i({user:null,isAuthenticated:!1,isLoading:!1,tokens:{accessToken:null,refreshToken:null}}),setTimeout(()=>window.location.reload(),100)},getAuthState:()=>a,recheckAuth:()=>{l()},forceLogout:()=>{r.tC.clearTokens(),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"},resetAuth:()=>{r.tC.clearTokens(),i({user:null,isAuthenticated:!1,isLoading:!1,tokens:{accessToken:null,refreshToken:null}})}}},[a,l]),(0,n.jsx)(o.Provider,{value:g,children:e})}function u(){let t=(0,s.useContext)(o);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}},4247:(t,e,a)=>{a.d(e,{nC:()=>p,tC:()=>c});var n=a(5558);class s{static async login(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/login"),t))}static async logout(){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/logout")))}static async refreshToken(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/refresh"),t))}static async changePassword(t){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/change-password"),t))}static async resetPassword(t,e){return(0,n.AT)(()=>n.uE.put("/users/".concat(t,"/reset-password"),e))}static async getSessions(){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/sessions")))}static async invalidateSession(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/sessions/").concat(t,"/invalidate")))}static async updateProfile(t){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/profile"),t))}static async getProfile(){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/profile")))}}s.BASE_PATH="/auth";class c{static storeTokens(t){localStorage.setItem(this.ACCESS_TOKEN_KEY,t.accessToken),localStorage.setItem(this.REFRESH_TOKEN_KEY,t.refreshToken),localStorage.setItem(this.USER_KEY,JSON.stringify(t.user))}static getAccessToken(){return localStorage.getItem(this.ACCESS_TOKEN_KEY)}static getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}static getUser(){{let t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}}static getTokens(){return{accessToken:this.getAccessToken(),refreshToken:this.getRefreshToken()}}static clearTokens(){localStorage.removeItem(this.ACCESS_TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}static isAuthenticated(){return null!==this.getAccessToken()}static hasRole(t){let e=this.getUser();return(null==e?void 0:e.role)===t}static isSupervisor(){let t=this.getUser();return(null==t?void 0:t.isSupervisor)===!0}}c.ACCESS_TOKEN_KEY="accessToken",c.REFRESH_TOKEN_KEY="refreshToken",c.USER_KEY="user";class r{static async createStudent(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/students"),t))}static async createTeacher(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/teachers"),t))}static async createSupervisor(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/supervisors"),t))}static async getUsers(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"?").concat(e.toString())))}static async getUserById(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t)))}static async updateUser(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t),e))}static async deleteUser(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t)))}static async assignAdvisoryTeacher(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/advisory"),e))}static async getStudentsByAdvisoryTeacher(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/advisory-students/").concat(t)))}static async getTeachersByDepartment(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/teachers/department/").concat(t)))}static async getAllStudents(t){let e=new URLSearchParams;return e.append("role","STUDENT"),t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"?").concat(e.toString())))}static async getAllTeachers(t){let e=new URLSearchParams;return e.append("role","TEACHER"),t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"?").concat(e.toString())))}static async bulkCreateStudents(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/students/bulk"),{students:t}))}static async exportUsers(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/export?").concat(e.toString()),{responseType:"blob"}))}}r.BASE_PATH="/users";var o=a(9635);class i{static async getStudentEnrollments(t){try{return await (0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/students/").concat(t)))}catch(a){console.warn("Real enrollment API not available, using mock data"),console.log("Using mock data for student ID:",t);let e=[{id:"enrollment_1",studentId:t,courseId:"CS101",student:{},course:{id:"CS101",code:"CS 101",name:"Introduction to Programming",description:"Learn the fundamentals of programming using Python.",credits:3,scheduleDays:["monday","wednesday","friday"],startTime:"09:00",endTime:"10:30",location:"Computer Lab A",building:"Science Building",room:"Room 101",createdById:"teacher_001",createdBy:{},instructorId:"teacher_001",instructor:{},semester:"Spring",year:2025,capacity:30,enrolled:28,status:"ACTIVE",category:"Core",departmentId:"CS",level:"BEGINNER",startDate:"2025-01-20",endDate:"2025-05-15",enrollmentDeadline:"2025-01-25",syllabusUrl:void 0,createdAt:"2025-01-01",updatedAt:"2025-01-01"},enrolledById:"supervisor_001",enrolledBy:{},enrollmentDate:"2025-01-15",status:"ACTIVE",finalGrade:void 0,finalPoints:void 0,completed:8,total:16,currentGrade:92,attendance:96,createdAt:"2025-01-15",updatedAt:"2025-01-15"},{id:"enrollment_2",studentId:t,courseId:"MATH201",student:{},course:{id:"MATH201",code:"MATH 201",name:"Calculus II",description:"Advanced calculus topics including integration techniques.",credits:4,scheduleDays:["tuesday","thursday"],startTime:"11:00",endTime:"12:30",location:"Mathematics Hall",building:"Math Building",room:"Room 215",createdById:"teacher_002",createdBy:{},instructorId:"teacher_002",instructor:{},semester:"Spring",year:2025,capacity:25,enrolled:23,status:"ACTIVE",category:"Core",departmentId:"MATH",level:"INTERMEDIATE",startDate:"2025-01-20",endDate:"2025-05-15",enrollmentDeadline:"2025-01-25",syllabusUrl:void 0,createdAt:"2025-01-01",updatedAt:"2025-01-01"},enrolledById:"supervisor_001",enrolledBy:{},enrollmentDate:"2025-01-15",status:"ACTIVE",finalGrade:void 0,finalPoints:void 0,completed:6,total:14,currentGrade:85,attendance:92,createdAt:"2025-01-15",updatedAt:"2025-01-15"}];return{enrollments:e,courses:e.map(t=>t.course),total:e.length}}}static async getMyEnrollments(){try{return await (0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/my-courses")))}catch(a){console.warn("Real my-enrollments API not available, using mock data");let t=localStorage.getItem("user"),e="current-user";if(t)try{e=JSON.parse(t).id||"current-user"}catch(t){console.warn("Failed to parse user data from localStorage")}return this.getStudentEnrollments(e)}}static async getCourseEnrollmentStatus(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/course/").concat(t,"/status")))}static async enrollInCourse(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/course/").concat(t)))}static async unenrollFromCourse(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/course/").concat(t)))}static async getEnrollmentHistory(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/history?").concat(e.toString())))}static async getAvailableCoursesForEnrollment(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/available-courses?").concat(e.toString())))}}i.BASE_PATH="/enrollment";var u=a(5167);class l{static async createGrade(t){return(0,n.AT)(()=>n.uE.post(this.BASE_PATH,t))}static async getStudentGrades(t,e){let a=new URLSearchParams;return e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/student/").concat(t,"?").concat(a.toString())))}static async getMyGrades(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/my-grades?").concat(e.toString())))}static async getCourseGrades(t,e){let a=new URLSearchParams;return e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/course/").concat(t,"?").concat(a.toString())))}static async getAssignmentGrades(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/assignment/").concat(t)))}static async updateGrade(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t),e))}static async deleteGrade(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t)))}static async generateGradeReport(t,e){let a=new URLSearchParams;return e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/student/").concat(t,"/report?").concat(a.toString())))}static async getMyGradeReport(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/my-report?").concat(e.toString())))}static async calculateGPA(t,e){let a=new URLSearchParams;return e&&(e.semester&&a.append("semester",e.semester),e.year&&a.append("year",e.year.toString()),e.courseIds&&e.courseIds.forEach(t=>a.append("courseIds",t))),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/student/").concat(t,"/gpa?").concat(a.toString())))}static async getCourseGradeStats(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/course/").concat(t,"/stats")))}static async bulkGradeAssignments(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/bulk"),{grades:t}))}static async exportGrades(t){let e=new URLSearchParams;return Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/export?").concat(e.toString()),{responseType:"blob"}))}}l.BASE_PATH="/grades";class A{static async uploadMaterial(t,e,a){if(!a)return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/course/").concat(t),e));{let s=new FormData;return s.append("file",a),Object.entries(e).forEach(t=>{let[e,a]=t;null!=a&&s.append(e,"object"==typeof a?JSON.stringify(a):a.toString())}),(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/course/").concat(t),s,{headers:{"Content-Type":"multipart/form-data"}}))}}static async getCourseMaterials(t,e){let a=new URLSearchParams;return e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/course/").concat(t,"?").concat(a.toString())))}static async getMaterialById(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t)))}static async updateMaterial(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t),e))}static async deleteMaterial(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t)))}static async downloadMaterial(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/download"),{responseType:"blob"}))}static getDownloadUrl(t,e){let a="".concat(n.uE.defaults.baseURL).concat(this.BASE_PATH,"/").concat(t,"/download"),s=e||localStorage.getItem("accessToken");return s?"".concat(a,"?token=").concat(s):a}static async getMaterialsByType(t,e){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/course/").concat(t,"/type/").concat(e)))}static async getRequiredMaterials(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/course/").concat(t,"/required")))}static async getMyMaterials(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/my-materials?").concat(e.toString())))}static async bulkUploadMaterials(t,e,a){let n=[],s=[];for(let c=0;c<e.length;c++)try{let s=await this.uploadMaterial(t,e[c].materialData,e[c].file);n.push(s),null==a||a(c+1,e.length)}catch(t){s.push({...e[c],error:t})}return{successful:n,failed:s}}static async copyMaterialToCourse(t,e,a){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/copy"),{targetCourseId:e,modifications:a}))}static async getMaterialAccessLogs(t,e){let a=new URLSearchParams;return e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/access-logs?").concat(a.toString())))}static async getMaterialStats(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/stats")))}static async searchMaterials(t,e){let a=new URLSearchParams;return a.append("q",t),e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/search?").concat(a.toString())))}static async organizeMaterials(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/course/").concat(t,"/organize"),e))}static async previewMaterial(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/preview")))}}A.BASE_PATH="/materials";class T{static async createQuiz(t){return(0,n.AT)(()=>n.uE.post(this.BASE_PATH,t))}static async getCourseQuizzes(t,e){let a=new URLSearchParams;return e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/course/").concat(t,"?").concat(a.toString())))}static async getQuizById(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t)))}static async updateQuiz(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t),e))}static async deleteQuiz(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t)))}static async getQuizAttempts(t,e){let a=new URLSearchParams;return e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/attempts?").concat(a.toString())))}static async startQuizAttempt(t){return(0,n.AT)(()=>n.uE.post("".concat(this.ATTEMPTS_PATH,"/start/").concat(t)))}static async submitQuizAttempt(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.ATTEMPTS_PATH,"/").concat(t,"/submit"),e))}static async getMyQuizAttempts(t){return(0,n.AT)(()=>n.uE.get("".concat(this.ATTEMPTS_PATH,"/quiz/").concat(t,"/my-attempts")))}static async getQuizAttemptById(t){return(0,n.AT)(()=>n.uE.get("".concat(this.ATTEMPTS_PATH,"/").concat(t)))}static async saveQuizProgress(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.ATTEMPTS_PATH,"/").concat(t,"/progress"),{answers:e}))}static async getTimeRemaining(t){return(0,n.AT)(()=>n.uE.get("".concat(this.ATTEMPTS_PATH,"/").concat(t,"/time-remaining")))}static async extendQuizTime(t,e,a){return(0,n.AT)(()=>n.uE.post("".concat(this.ATTEMPTS_PATH,"/").concat(t,"/extend-time"),{extensionMinutes:e,reason:a}))}static async getQuizStats(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/stats")))}static async cloneQuiz(t,e,a){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/clone"),{targetCourseId:e,modifications:a}))}static async exportQuizResults(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv";return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/export?format=").concat(e),{responseType:"blob"}))}static async gradeQuizManually(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.ATTEMPTS_PATH,"/").concat(t,"/grade"),e))}static async getPendingGrading(t){let e=new URLSearchParams;return t&&e.append("courseId",t),(0,n.AT)(()=>n.uE.get("".concat(this.ATTEMPTS_PATH,"/pending-grading?").concat(e.toString())))}}T.BASE_PATH="/quizzes",T.ATTEMPTS_PATH="/quiz-attempts";var E=a(6977);class d{static async createNotification(t){return(0,n.AT)(()=>n.uE.post(this.BASE_PATH,t))}static async getMyNotifications(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&(Array.isArray(n)?n.forEach(t=>e.append(a,t.toString())):e.append(a,n.toString()))}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/my?").concat(e.toString())))}static async getNotificationById(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t)))}static async markAsRead(t){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t,"/read")))}static async markMultipleAsRead(t){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/bulk-read"),{notificationIds:t}))}static async markAllAsRead(){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/read-all")))}static async deleteNotification(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t)))}static async deleteMultipleNotifications(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/bulk-delete"),{data:{notificationIds:t}}))}static async getUnreadCount(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/unread-count?").concat(e.toString())))}static async sendToUsers(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/send-to-users"),{...e,targetUserIds:t}))}static async sendToRole(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/send-to-role"),{...e,targetRoles:t}))}static async sendCourseAnnouncement(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/course-announcement"),{...e,courseId:t,type:E._n.COURSE_ANNOUNCEMENT}))}static async sendAssignmentReminder(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/assignment-reminder"),{assignmentId:t,customMessage:e}))}static async sendGradeNotification(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/grade-notification"),{gradeId:t,customMessage:e}))}static async getNotificationTemplates(t){let e=new URLSearchParams;return t&&e.append("type",t),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/templates?").concat(e.toString())))}static async updateNotificationPreferences(t){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/preferences"),t))}static async getNotificationPreferences(){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/preferences")))}static async getNotificationStats(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/stats?").concat(e.toString())))}}d.BASE_PATH="/notifications";class g{static async uploadFile(t,e){let a=new FormData;return a.append("file",t),(null==e?void 0:e.description)&&a.append("description",e.description),(null==e?void 0:e.isPublic)!==void 0&&a.append("isPublic",e.isPublic.toString()),(null==e?void 0:e.folder)&&a.append("folder",e.folder),(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/upload"),a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:(null==e?void 0:e.onProgress)?t=>{let a=t.total?Math.round(100*t.loaded/t.total):0;e.onProgress(a)}:void 0}))}static async uploadMultipleFiles(t,e){let a=[],n=[];for(let r=0;r<t.length;r++){var s,c;try{let n=await this.uploadFile(t[r],{folder:null==e?void 0:e.folder,onProgress:(null==e?void 0:e.onProgress)?t=>e.onProgress(r,t):void 0});a.push(n),null==e||null==(s=e.onComplete)||s.call(e,r,n)}catch(a){n.push({file:t[r],error:a}),null==e||null==(c=e.onError)||c.call(e,r,a)}}return{successful:a,failed:n}}static async getFileMetadata(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t)))}static async downloadFile(t,e){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/download"),{responseType:"blob"}))}static getDownloadUrl(t,e){let a="".concat(n.uE.defaults.baseURL).concat(this.BASE_PATH,"/").concat(t,"/download"),s=e||localStorage.getItem("accessToken");return s?"".concat(a,"?token=").concat(s):a}static async deleteFile(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t)))}static async getMyFiles(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/my-files?").concat(e.toString())))}static async getAllFiles(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/admin/all?").concat(e.toString())))}static async getFileStats(){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/stats")))}static async cleanupOrphanedFiles(){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/admin/cleanup")))}static async scanFile(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/scan")))}static async generateThumbnail(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/thumbnail"),{size:e||"medium"}))}static async shareFile(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/share"),e))}static async revokeFileSharing(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t,"/share")))}static validateFile(t,e){let a=[],n=(null==e?void 0:e.maxSize)||0xa00000,s=(null==e?void 0:e.allowedTypes)||[];return t.size>n&&a.push("File size exceeds maximum allowed size of ".concat(Math.round(n/1024/1024),"MB")),s.length>0&&!s.includes(t.type)&&a.push("File type ".concat(t.type," is not allowed")),t.name.length>255&&a.push("Filename is too long (maximum 255 characters)"),{isValid:0===a.length,errors:a}}static formatFileSize(t){if(0===t)return"0 Bytes";let e=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,e)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][e]}static getFileIcon(t){return t.startsWith("image/")?"\uD83D\uDDBC️":t.startsWith("video/")?"\uD83C\uDFA5":t.startsWith("audio/")?"\uD83C\uDFB5":t.includes("pdf")?"\uD83D\uDCC4":t.includes("word")||t.includes("document")?"\uD83D\uDCDD":t.includes("excel")||t.includes("spreadsheet")?"\uD83D\uDCCA":t.includes("powerpoint")||t.includes("presentation")?"\uD83D\uDCD1":t.includes("zip")||t.includes("archive")?"\uD83D\uDDDC️":"\uD83D\uDCCE"}}g.BASE_PATH="/files";class S{static async getPageConfig(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t)))}static async getAvailablePages(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"?").concat(e.toString())))}static async createPageConfig(t){return(0,n.AT)(()=>n.uE.post(this.BASE_PATH,t))}static async updatePageConfig(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t),e))}static async deletePageConfig(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t)))}static async clonePageConfig(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/clone"),e))}static async getPageTemplates(t){let e=new URLSearchParams;return t&&e.append("category",t),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/templates?").concat(e.toString())))}static async validatePageConfig(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/validate"),t))}static async previewPageConfig(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/preview"),t))}static async getPageStats(t){let e=t?"".concat(this.BASE_PATH,"/").concat(t,"/stats"):"".concat(this.BASE_PATH,"/stats");return(0,n.AT)(()=>n.uE.get(e))}static async exportPageConfig(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/export"),{responseType:"blob"}))}static async importPageConfig(t,e){let a=new FormData;return a.append("file",t),(null==e?void 0:e.overwrite)!==void 0&&a.append("overwrite",e.overwrite.toString()),(null==e?void 0:e.prefix)&&a.append("prefix",e.prefix),(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/import"),a,{headers:{"Content-Type":"multipart/form-data"}}))}static async getComponentRegistry(){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/components")))}static async recordPageView(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/view"),e))}static async getPersonalizedPageConfig(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/personalized")))}static async updatePagePreferences(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t,"/preferences"),e))}}S.BASE_PATH="/pages";class h{static async getDashboardData(){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/dashboard")))}static async getUserStats(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/users/stats?").concat(e.toString())))}static async createBackup(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/system/backup"),t))}static async getSystemHealth(){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/system/health")))}static async registerSupervisor(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/supervisors"),t))}static async getSystemSettings(){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/settings")))}static async updateSystemSettings(t){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/settings"),{settings:t}))}static async getApplicationLogs(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/logs?").concat(e.toString())))}static async getAuditActivities(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.AUDIT_PATH,"/activities?").concat(e.toString())))}static async getAuditActivityById(t){return(0,n.AT)(()=>n.uE.get("".concat(this.AUDIT_PATH,"/activities/").concat(t)))}static async exportAuditLogs(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.AUDIT_PATH,"/export?").concat(e.toString()),{responseType:"blob"}))}static async getAuditStats(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.AUDIT_PATH,"/stats?").concat(e.toString())))}static async generateSystemReport(t,e){let a=new URLSearchParams;return(a.append("type",t),e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),"json"===((null==e?void 0:e.format)||"json"))?(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/reports?").concat(a.toString()))):(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/reports?").concat(a.toString()),{responseType:"blob"}))}static async getUserSessions(t){let e=t?"".concat(this.BASE_PATH,"/sessions/user/").concat(t):"".concat(this.BASE_PATH,"/sessions");return(0,n.AT)(()=>n.uE.get(e))}static async terminateSession(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/sessions/").concat(t)))}static async terminateAllUserSessions(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/sessions/user/").concat(t,"/all")))}static async sendSystemAnnouncement(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/announcements"),t))}static async getMaintenanceStatus(){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/maintenance")))}}h.BASE_PATH="/admin",h.AUDIT_PATH="/audit";let p={auth:s,users:r,courses:o.f,enrollment:i,assignments:u.r,grades:l,materials:A,quizzes:T,notifications:d,files:g,pages:S,admin:h};class y{static async quickLogin(t){throw Error("quickLogin is not available in production")}static clearAll(){c.clearTokens(),localStorage.clear(),sessionStorage.clear()}static logStatus(){}}y.MOCK_USERS={student:{email:"student@test.edu",password:"password123",role:"STUDENT"},teacher:{email:"teacher@test.edu",password:"password123",role:"TEACHER"},supervisor:{email:"supervisor@test.edu",password:"password123",role:"SUPERVISOR_TEACHER"},admin:{email:"admin@test.edu",password:"password123",role:"ADMIN"}}},5167:(t,e,a)=>{a.d(e,{r:()=>s});var n=a(5558);class s{static async createAssignment(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/course/").concat(t.courseId),t))}static async getCourseAssignments(t,e){let a=new URLSearchParams;return e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/course/").concat(t,"?").concat(a.toString())))}static async getAssignments(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"?").concat(e.toString())))}static async getAssignmentById(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t)))}static async updateAssignment(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t),e))}static async deleteAssignment(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t)))}static async submitAssignment(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/submit"),e))}static async getAssignmentSubmissions(t,e){let a=new URLSearchParams;return e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/submissions?").concat(a.toString())))}static async getSubmissionById(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/submissions/").concat(t)))}static async updateSubmission(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/submissions/").concat(t),e))}static async getStudentAssignments(t,e){let a=new URLSearchParams;e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())});let s=t?"".concat(this.BASE_PATH,"/student/").concat(t):"".concat(this.BASE_PATH,"/my-assignments");return(0,n.AT)(()=>n.uE.get("".concat(s,"?").concat(a.toString())))}static async getUpcomingAssignments(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/upcoming?days=").concat(t)))}static async getOverdueAssignments(t){let e=t?"".concat(this.BASE_PATH,"/overdue/student/").concat(t):"".concat(this.BASE_PATH,"/overdue");return(0,n.AT)(()=>n.uE.get(e))}static async getAssignmentStats(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/stats")))}static async bulkCreateAssignments(t){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/bulk"),{assignments:t}))}static async cloneAssignment(t,e,a){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/clone"),{targetCourseId:e,modifications:a}))}}s.BASE_PATH="/assignments"},5558:(t,e,a)=>{a.d(e,{AT:()=>r,i3:()=>s,uE:()=>c});var n=a(3464);let s={BASE_URL:"https://vitriolacademy.com:76492",TIMEOUT:1e4,RATE_LIMIT_PER_MINUTE:100},c=n.A.create({baseURL:s.BASE_URL,timeout:s.TIMEOUT,headers:{"Content-Type":"application/json"}});c.interceptors.request.use(t=>{let e=localStorage.getItem("accessToken");return e&&(t.headers.Authorization="Bearer ".concat(e)),t},t=>Promise.reject(t)),c.interceptors.response.use(t=>t,async t=>{var e;let a=t.config;if((null==(e=t.response)?void 0:e.status)===401&&!a._retry){a._retry=!0;try{let t=localStorage.getItem("refreshToken");if(t){let{accessToken:e}=(await n.A.post("".concat(s.BASE_URL,"/auth/refresh"),{refreshToken:t})).data;return localStorage.setItem("accessToken",e),a.headers.Authorization="Bearer ".concat(e),c(a)}}catch(t){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login"}}return Promise.reject(t)});let r=async t=>{try{let e=await t(),a=e.data;if(a&&"object"==typeof a&&a.data)return a.data;return e.data}catch(t){var e;if(null==(e=t.response)?void 0:e.data)throw t.response.data;throw{statusCode:500,message:t.message||"Network error occurred",error:"NetworkError"}}}},6977:(t,e,a)=>{a.d(e,{IM:()=>s,_n:()=>c,gG:()=>n});var n=function(t){return t.STUDENT="STUDENT",t.TEACHER="TEACHER",t.SUPERVISOR_TEACHER="SUPERVISOR_TEACHER",t.ADMIN="ADMIN",t}({}),s=function(t){return t.DRAFT="DRAFT",t.ASSIGNED="ASSIGNED",t.SUBMITTED="SUBMITTED",t.GRADED="GRADED",t.OVERDUE="OVERDUE",t.CANCELLED="CANCELLED",t}({}),c=function(t){return t.ASSIGNMENT_DUE="ASSIGNMENT_DUE",t.GRADE_POSTED="GRADE_POSTED",t.COURSE_ANNOUNCEMENT="COURSE_ANNOUNCEMENT",t.ENROLLMENT_CONFIRMED="ENROLLMENT_CONFIRMED",t.SYSTEM_ALERT="SYSTEM_ALERT",t.REMINDER="REMINDER",t.MESSAGE="MESSAGE",t}({})},9635:(t,e,a)=>{a.d(e,{f:()=>s});var n=a(5558);class s{static async createCourse(t){return(0,n.AT)(()=>n.uE.post(this.BASE_PATH,t))}static async getCourses(t){let e=new URLSearchParams;return t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"?").concat(e.toString())))}static async getCourseById(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t)))}static async updateCourse(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t),e))}static async deleteCourse(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t)))}static async enrollStudent(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/enroll"),e))}static async unenrollStudent(t,e){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t,"/enroll/").concat(e)))}static async getCourseStudents(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/students")))}static async getStudentCourses(t){let e=t?"".concat(this.BASE_PATH,"/student/").concat(t,"/enrollments"):"".concat(this.BASE_PATH,"/my-enrollments");return(0,n.AT)(()=>n.uE.get(e))}static async getInstructorCourses(t){let e=t?"".concat(this.BASE_PATH,"/instructor/").concat(t):"".concat(this.BASE_PATH,"/my-courses");return(0,n.AT)(()=>n.uE.get(e))}static async getCourseStats(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/stats")))}static async assignTeacher(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/assign-teacher"),{teacherId:e}))}static async updateCourseSchedule(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t,"/schedule"),e))}static async bulkEnrollStudents(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/bulk-enroll"),{studentIds:e}))}static async getAvailableCourses(t){let e=new URLSearchParams;return e.append("status","ACTIVE"),t&&Object.entries(t).forEach(t=>{let[a,n]=t;null!=n&&e.append(a,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/available?").concat(e.toString())))}static async getCourseEnrollmentHistory(t,e){let a=new URLSearchParams;return e&&Object.entries(e).forEach(t=>{let[e,n]=t;null!=n&&a.append(e,n.toString())}),(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/enrollment-history?").concat(a.toString())))}static async createStudyPlan(t,e){return(0,n.AT)(()=>n.uE.post("".concat(this.BASE_PATH,"/").concat(t,"/study-plan"),e))}static async getStudyPlan(t){return(0,n.AT)(()=>n.uE.get("".concat(this.BASE_PATH,"/").concat(t,"/study-plan")))}static async updateStudyPlan(t,e){return(0,n.AT)(()=>n.uE.put("".concat(this.BASE_PATH,"/").concat(t,"/study-plan"),e))}static async deleteStudyPlan(t){return(0,n.AT)(()=>n.uE.delete("".concat(this.BASE_PATH,"/").concat(t,"/study-plan")))}}s.BASE_PATH="/courses"}}]);