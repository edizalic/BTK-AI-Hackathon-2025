"use strict";exports.id=2,exports.ids=[2],exports.modules={14952:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},18002:(a,b,c)=>{c.d(b,{m:()=>o});var d=c(60687),e=c(43210),f=c(44493),g=c(29523),h=c(96834),i=c(62688);let j=(0,i.A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var k=c(78272),l=c(14952);let m=(0,i.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var n=c(4780);let o=({courseId:a,courseName:b,existingStudyPlan:c})=>{let[i,o]=(0,e.useState)(c||null),[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)(null),[t,u]=(0,e.useState)(new Set),[v,w]=(0,e.useState)(!1),x=async()=>{try{q(!0),s(null);let b=await fetch(`/api/gemini/${a}/get-weekly-study-plan`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!b.ok)throw Error(`Failed to generate study plan: ${b.status}`);let c=await b.json();if(c.success&&c.studyPlan)o({weeks:c.studyPlan.weeks||[],generatedAt:new Date().toISOString(),aiGenerated:!0}),w(!0);else throw Error(c.message||"Failed to generate study plan")}catch(a){console.error("Error generating study plan:",a),s(a instanceof Error?a.message:"Failed to generate study plan")}finally{q(!1)}};return(0,d.jsxs)(f.Zp,{className:"w-full",children:[(0,d.jsxs)(f.aR,{className:"flex flex-row items-center justify-between space-y-0 py-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,d.jsxs)("button",{className:"flex items-center space-x-2 text-left hover:text-foreground transition-colors",onClick:()=>w(!v),children:[(0,d.jsxs)(f.ZB,{className:"flex items-center space-x-2",children:[(0,d.jsx)(j,{className:"h-5 w-5 text-blue-500"}),(0,d.jsx)("span",{children:"AI Weekly Study Plan"})]}),v?(0,d.jsx)(k.A,{className:"h-5 w-5 text-muted-foreground"}):(0,d.jsx)(l.A,{className:"h-5 w-5 text-muted-foreground"})]}),i&&i.weeks&&i.weeks.length>0&&(0,d.jsxs)(h.E,{variant:"secondary",className:"text-xs",children:[i.weeks.length," weeks"]}),i?.aiGenerated&&(0,d.jsx)(h.E,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:"AI Generated"})]}),(0,d.jsx)(g.$,{variant:"default",size:"sm",onClick:x,disabled:p,className:"flex items-center space-x-2",children:p?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m,{className:"h-4 w-4 animate-spin"}),(0,d.jsx)("span",{children:"Generating..."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"Ask to AI"})]})})]}),v&&(0,d.jsx)(f.Wu,{children:(0,d.jsx)("div",{className:"space-y-4",children:p?(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(m,{className:"h-8 w-8 animate-spin mx-auto mb-3 text-blue-500"}),(0,d.jsxs)("p",{className:"text-muted-foreground text-sm",children:["AI is generating your personalized weekly study plan for ",b,"..."]})]}):r?(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)("span",{className:"text-2xl",children:"⚠️"})}),(0,d.jsx)("p",{className:"text-red-600 text-sm mb-2",children:"Failed to generate study plan"}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm",children:r}),(0,d.jsx)(g.$,{variant:"outline",size:"sm",onClick:x,className:"mt-3",children:"Try Again"})]}):i&&i.weeks&&i.weeks.length>0?(0,d.jsxs)("div",{className:"space-y-3",children:[i.weeks.map(a=>(0,d.jsxs)("div",{className:"border rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[(0,d.jsxs)("button",{className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors rounded-lg",onClick:()=>(a=>{let b=new Set(t);b.has(a)?b.delete(a):b.add(a),u(b)})(a.week),children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:(0,n.cn)("w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold text-sm",(a=>{let b=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-indigo-500","bg-teal-500","bg-red-500","bg-yellow-500","bg-cyan-500","bg-lime-500","bg-amber-500","bg-emerald-500","bg-violet-500","bg-rose-500"],c=(parseInt(a)-1)%b.length;return b[c]})(a.week)),children:a.week}),(0,d.jsxs)("span",{className:"font-medium",children:["Week ",a.week]}),a.topics&&a.topics.length>0&&(0,d.jsxs)(h.E,{variant:"outline",className:"text-xs",children:[a.topics.length," topics"]})]}),t.has(a.week)?(0,d.jsx)(k.A,{className:"h-5 w-5 text-muted-foreground"}):(0,d.jsx)(l.A,{className:"h-5 w-5 text-muted-foreground"})]}),t.has(a.week)&&(0,d.jsx)("div",{className:"px-4 pb-4 text-sm text-muted-foreground border-t border-gray-200 dark:border-gray-700 pt-3",children:(0,d.jsxs)("div",{className:"prose prose-sm max-w-none",children:[(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"Description"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:a.description})]}),a.topics&&a.topics.length>0&&(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"Topics"}),(0,d.jsx)("ul",{className:"list-disc list-inside space-y-1",children:a.topics.map((a,b)=>(0,d.jsx)("li",{className:"text-muted-foreground",children:a},b))})]}),a.assignments&&a.assignments.length>0&&(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"Assignments"}),(0,d.jsx)("ul",{className:"list-disc list-inside space-y-1",children:a.assignments.map((a,b)=>(0,d.jsx)("li",{className:"text-muted-foreground",children:a},b))})]}),a.readings&&a.readings.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"Readings"}),(0,d.jsx)("ul",{className:"list-disc list-inside space-y-1",children:a.readings.map((a,b)=>(0,d.jsx)("li",{className:"text-muted-foreground",children:a},b))})]})]})})]},a.week)),i.generatedAt&&(0,d.jsxs)("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:["Generated on ",new Date(i.generatedAt).toLocaleDateString()," at ",new Date(i.generatedAt).toLocaleTimeString()]})]}):(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(j,{className:"h-8 w-8 text-blue-500"})}),(0,d.jsxs)("p",{className:"text-muted-foreground text-sm mb-3",children:["Get a personalized weekly study plan for ",b," generated by AI"]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:'Click "Ask to AI" to generate a comprehensive study plan tailored to your course'})]})})})]})}},62688:(a,b,c)=>{c.d(b,{A:()=>i});var d=c(43210);let e=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},f=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,d.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:e,className:h="",children:i,iconNode:j,...k},l)=>(0,d.createElement)("svg",{ref:l,...g,width:b,height:b,stroke:a,strokeWidth:e?24*Number(c)/Number(b):c,className:f("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,b])=>(0,d.createElement)(a,b)),...Array.isArray(i)?i:[i]])),i=(a,b)=>{let c=(0,d.forwardRef)(({className:c,...g},i)=>(0,d.createElement)(h,{ref:i,iconNode:b,className:f(`lucide-${e(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...g}));return c.displayName=e(a),c}},78272:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(62688).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},96834:(a,b,c)=>{c.d(b,{E:()=>h});var d=c(60687);c(43210);var e=c(24224),f=c(4780);let g=(0,e.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,f.cn)(g({variant:b}),a),...c})}}};